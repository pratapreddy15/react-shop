(this["webpackJsonpreact-shop"]=this["webpackJsonpreact-shop"]||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports={appHeader:"AppHeader_appHeader__1BS5K","appHeader__logo--link":"AppHeader_appHeader__logo--link__2R63A",appHeader__navigation:"AppHeader_appHeader__navigation___hB5L","appHeader__navigation--link":"AppHeader_appHeader__navigation--link__1s5t1",active:"AppHeader_active___Vsu4","appHeader__navigation--menu":"AppHeader_appHeader__navigation--menu__2lS4f"}},,,,,function(e,t,n){e.exports={cartItem:"CartItem_cartItem__2kaHN",title:"CartItem_title__MS8dx",image:"CartItem_image__2h1l0"}},,function(e,t,n){e.exports={userLogin:"UserLogin_userLogin__2oBWZ",formControl:"UserLogin_formControl__1wBha",moreUsers:"UserLogin_moreUsers__1MjNb",actions:"UserLogin_actions__1T_ZI",loader:"UserLogin_loader__3hjcv"}},function(e,t,n){e.exports={home:"Home_home__2mzRg",top:"Home_top__99JYK",bottom:"Home_bottom__6Hyiu",callToAction:"Home_callToAction__259Lh",link:"Home_link__esZfg"}},function(e,t,n){e.exports={userItem:"UserItem_userItem__2bonn",displayName:"UserItem_displayName__388mS",userName:"UserItem_userName__3RVUc",password:"UserItem_password__YYkh_"}},,,function(e,t,n){e.exports={modal:"Modal_modal__2K4js",title:"Modal_title__yihpm",text:"Modal_text__-IUkv",actions:"Modal_actions__2eIYs"}},,function(e,t,n){e.exports={productImage:"ProductItem_productImage__2sEL8",productTitle:"ProductItem_productTitle__OTnoy",productAmount:"ProductItem_productAmount__3UMUk"}},function(e,t,n){e.exports={quantityInput:"QuantityInput_quantityInput__q8khm",quantityText:"QuantityInput_quantityText__3XaWH",btnRemove:"QuantityInput_btnRemove__ZoBKG"}},,,,,,,,function(e,t,n){e.exports={main:"Layout_main__1byJ6"}},,function(e,t,n){e.exports={spinner:"Spinner_spinner__1FmZK"}},function(e,t,n){e.exports={noProductsFound:"NoProductsFound_noProductsFound__35AGN"}},function(e,t,n){e.exports={productList:"ProductList_productList__2gQiy"}},function(e,t,n){e.exports={backdrop:"Backdrop_backdrop__I_h8I"}},,,function(e,t,n){e.exports={cartList:"CartList_cartList__1oE5W"}},function(e,t,n){e.exports={userList:"UserList_userList__1eref"}},,,,,,,function(e,t,n){},,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(30),s=n.n(c),i=(n(47),n(2)),o=n(31),u=n.n(o),d=n(8),l=n.n(d),j=n(3),p=r.a.createContext({token:"",setToken:function(e){}}),m=n(0),b=function(){var e=Object(a.useContext)(p),t=!!e.token;return Object(m.jsxs)("header",{className:l.a.appHeader,children:[Object(m.jsx)("div",{className:l.a.appHeader__logo,children:Object(m.jsx)(j.c,{className:l.a["appHeader__logo--link"],activeClassName:l.a.active,to:"/",children:"React Shop"})}),Object(m.jsx)("nav",{className:l.a.appHeader__navigation,children:Object(m.jsxs)("ul",{children:[!t&&Object(m.jsx)("li",{children:Object(m.jsx)(j.c,{className:l.a["appHeader__navigation--link"],activeClassName:l.a.active,to:"/login",children:"Login"})}),Object(m.jsx)("li",{children:Object(m.jsx)(j.c,{className:l.a["appHeader__navigation--link"],activeClassName:l.a.active,to:"/products",children:"Products"})}),t&&Object(m.jsx)("li",{children:Object(m.jsx)(j.c,{className:l.a["appHeader__navigation--link"],activeClassName:l.a.active,to:"/cart",children:"Cart"})}),t&&Object(m.jsx)("li",{children:Object(m.jsx)(j.c,{className:l.a["appHeader__navigation--link"],to:"/",onClick:function(){e.setToken("")},children:"Logout"})})]})})]})},O=function(e){return Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(b,{}),Object(m.jsx)("main",{className:u.a.main,children:e.children})]})},x=n(5),h=n(15),f=n.n(h),_=n(33),v=n.n(_),g=function(){return Object(m.jsx)("div",{className:v.a.spinner})},N=n(9),y=n(11),k=n.n(y),C=n(14),I=function(e,t){return"SEND"===t.type?{data:null,error:null,status:"pending"}:"SUCCESS"===t.type?{data:t.responseData,error:null,status:"completed"}:"ERROR"===t.type?{data:null,error:t.errorMessage,status:"completed"}:{data:null,error:null,status:"pending"}},A=function(e){var t=Object(a.useReducer)(I,{status:"pending",data:null,error:null}),n=Object(x.a)(t,2),r=n[0],c=n[1],s=Object(a.useCallback)(function(){var t=Object(C.a)(k.a.mark((function t(n){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"SEND"}),t.prev=1,t.next=4,e(n);case 4:a=t.sent,c({type:"SUCCESS",responseData:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),c({type:"ERROR",errorMessage:t.t0.message||"Something went wrong!"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),[]);return Object(N.a)({sendRequest:s},r)},w="https://fakestoreapi.com",H={products:"".concat(w,"/products"),users:"".concat(w,"/users"),product:function(e){return"".concat(w,"/product/").concat(e)},login:"".concat(w,"/auth/login")},L=function(){var e=Object(C.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(H.products);case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(C.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(H.users);case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,a,r,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userName,a=t.password,e.next=3,fetch(H.login,{method:"POST",body:JSON.stringify({username:n,password:a}),headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(a.useContext)(p),t=Object(i.g)(),n=Object(i.f)(),r=Object(a.useState)(!1),c=Object(x.a)(r,2),s=c[0],o=c[1],u=new URLSearchParams(t.search),d=u.get("username"),l=u.get("password"),b=A(S),O=b.sendRequest,h=b.data,_=b.error,v=b.status,N=Object(a.useRef)(null),y=Object(a.useRef)(null);return s&&"pending"===v?Object(m.jsx)("div",{className:"centered-horizontally",children:Object(m.jsx)(g,{})}):("completed"===v&&h&&(n.replace("/"),e.setToken(h.token)),_?Object(m.jsx)("p",{className:"centered-horizontally",children:_}):Object(m.jsx)("div",{className:"".concat(f.a.userLogin," centered-horizontally"),children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=N.current.value,n=y.current.value;o(!0),O({userName:t,password:n})},children:[Object(m.jsx)("div",{className:f.a.formControl,children:Object(m.jsx)("input",{ref:N,type:"text",placeholder:"Your username",id:"userNameInput",defaultValue:d})}),Object(m.jsx)("div",{className:f.a.formControl,children:Object(m.jsx)("input",{ref:y,type:"password",placeholder:"Your password",id:"passwordInput",defaultValue:l})}),Object(m.jsxs)("div",{className:f.a.moreUsers,children:[Object(m.jsx)(j.b,{to:"/users",children:"Click here"}),Object(m.jsx)("span",{children:" for test users."})]}),Object(m.jsx)("div",{className:"".concat(f.a.actions," centered-horizontally"),children:Object(m.jsx)("button",{type:"submit",className:"btn btn-medium btn-solid primary",children:"Login"})})]})}))},P=function(){return Object(m.jsx)(q,{children:"Login Page!"})},U=n(16),T=n.n(U),F=function(){var e=Object(a.useContext)(p);return Object(m.jsxs)("div",{className:T.a.home,children:[Object(m.jsx)("div",{className:T.a.top,children:"Transforming my knowledge and skills of ReactJS to model the real world e-commerce website."}),Object(m.jsx)("div",{className:T.a.bottom,children:"Welcome to React Shop! A sample e-commerce site offering a wide range of products."}),Object(m.jsxs)("div",{className:T.a.callToAction,children:[Object(m.jsxs)("p",{children:[Object(m.jsx)(j.c,{className:T.a.link,to:"/products",children:"Browse"})," ","for all the available products."]}),!e.token&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("p",{children:[Object(m.jsx)("a",{href:"#",children:"Register"}),Object(m.jsx)("span",{children:" or "}),Object(m.jsx)(j.c,{to:"/login",children:"Login"})]}),Object(m.jsxs)("p",{children:[Object(m.jsx)(j.c,{to:"/users",children:"Click here"}),Object(m.jsx)("span",{children:" to get a list of users you can use for login."})]})]})]})]})},E=n(34),M=n.n(E),B=function(){return Object(m.jsx)("div",{className:M.a.noProductsFound,children:Object(m.jsx)("p",{children:"No products found!"})})},Y=n(35),D=n.n(Y),V=n(22),z=n.n(V),J=function(e){return Object(m.jsx)("div",{className:"bg-transparent",children:e.children})},K=n(23),W=n.n(K),Z=n(20),Q=n.n(Z),$=n(36),G=n.n($),X=function(){return Object(m.jsx)("div",{className:G.a.backdrop})},ee=function(e){var t;return"Basic"===e.type&&(t=Object(m.jsx)("button",{className:"btn btn-flat btn-medium secondary",onClick:e.onClose,children:"Close"})),"Confirmation"===e.type&&(t=Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)("button",{className:"btn btn-flat btn-medium primary",onClick:e.onConfirmedYes,children:"Yes"}),Object(m.jsx)("button",{className:"btn btn-flat btn-medium secondary",onClick:e.onConfirmedNo,children:"No"})]})),Object(m.jsxs)(r.a.Fragment,{children:[Object(m.jsx)(X,{}),Object(m.jsxs)("div",{className:Q.a.modal,children:[Object(m.jsx)("p",{className:Q.a.title,children:e.title}),Object(m.jsx)("p",{className:Q.a.text,children:e.text}),Object(m.jsx)("div",{className:Q.a.actions,children:t})]})]})},te=function(e){var t=Object(i.g)(),n=e.onAdd,c=e.onRemove,s=e.initialValue,o=void 0===s?0:s,u="/cart"===t.pathname,d=Object(a.useState)(o),l=Object(x.a)(d,2),j=l[0],p=l[1],b=Object(a.useState)(!1),O=Object(x.a)(b,2),h=O[0],f=O[1],_=Object(a.useState)(""),v=Object(x.a)(_,2),g=v[0],N=v[1],y=Object(a.useState)(""),k=Object(x.a)(y,2),C=k[0],I=k[1],A=Object(a.useState)(""),w=Object(x.a)(A,2),H=w[0],L=w[1];return Object(m.jsxs)(r.a.Fragment,{children:[h&&Object(m.jsx)(ee,{type:H,title:C,text:g,onConfirmedYes:function(){p(0),f(!1),c()},onConfirmedNo:function(){f(!1)},onClose:function(){return f(!1)}}),Object(m.jsxs)("div",{className:"".concat(W.a.quantityInput," ","centered-horizontally"),children:[Object(m.jsx)("button",{className:"btn btn-solid btn-small primary",onClick:function(){if(j>=10)return f(!0),I("Not Allowed!"),L("Basic"),void N("Ooops! You have reached the maximum number of items in your cart for the selected product.");p((function(e){return e<10?e+1:e})),n()},children:"+"}),Object(m.jsx)("input",{type:"text",disabled:!0,className:W.a.quantityText,value:j}),Object(m.jsx)("button",{className:"btn btn-solid btn-small secondary ".concat(W.a.btnRemove),onClick:function(){if(0!==j){if(u&&1===j)return f(!0),I("Alert!"),L("Confirmation"),void N("You are about to remove the last item for the selected product. Are you sure you want to continue?");p((function(e){return e<=1?0:e-1})),c()}},children:"-"})]})]})},ne=function(e){var t=!!Object(a.useContext)(p).token,n=e.product,r=e.onAdd,c=e.onRemove;return Object(m.jsxs)(J,{children:[Object(m.jsx)("div",{className:z.a.productImage,children:Object(m.jsx)("img",{src:n.image})}),Object(m.jsx)("div",{className:z.a.productTitle,children:n.title}),Object(m.jsxs)("div",{className:z.a.productAmount,children:["A$ ",n.price.toFixed(2)]}),t&&Object(m.jsx)(te,{onAdd:r,onRemove:c,initialValue:n.quantity})]})},ae=n(37),re=n(38),ce=n(42),se=n(41),ie=r.a.createContext({items:[],totalAmount:0,addItem:function(e){},removeItem:function(e){}}),oe=function(e){return function(t){Object(ce.a)(a,t);var n=Object(se.a)(a);function a(e){return Object(ae.a)(this,a),n.call(this,e)}return Object(re.a)(a,[{key:"addProductHandler",value:function(e){e.addItem(Object(N.a)(Object(N.a)({},this.props.product),{},{quantity:1}))}},{key:"removeProductHandler",value:function(e){e.removeItem(this.props.product.id)}},{key:"render",value:function(){var t=this;return Object(m.jsx)(ie.Consumer,{children:function(n){var a=n.items.findIndex((function(e){return e.id===t.props.product.id})),r=0;return a>-1&&(r=n.items[a].quantity),Object(m.jsx)(e,{product:Object(N.a)(Object(N.a)({},t.props.product),{},{quantity:r}),onAdd:function(){return t.addProductHandler(n)},onRemove:function(){return t.removeProductHandler(n)}})}})}}]),a}(r.a.Component)},ue=function(e){var t=oe(ne);return Object(m.jsx)("div",{className:D.a.productList,children:e.products.map((function(e){return Object(m.jsx)(t,{product:e},e.id)}))})},de=function(){var e=A(L),t=e.sendRequest,n=e.status,r=e.data,c=e.error;return Object(a.useEffect)((function(){t()}),[]),"pending"===n?Object(m.jsx)("div",{className:"centered-vertically",children:Object(m.jsx)(g,{})}):c?Object(m.jsx)("p",{className:"focused centered-vertically",children:c}):"completed"!==n||r&&0!==r.length?Object(m.jsx)(ue,{products:r}):Object(m.jsx)(B,{})},le=n(39),je=n.n(le),pe=n(13),me=n.n(pe),be=function(e){var t=e.product,n=e.onAdd,a=e.onRemove;return Object(m.jsxs)("div",{className:me.a.cartItem,children:[Object(m.jsx)("div",{className:me.a.image,children:Object(m.jsx)("img",{src:t.image})}),Object(m.jsx)("div",{className:me.a.title,children:Object(m.jsx)("p",{children:t.title})}),Object(m.jsxs)("div",{className:me.a.actions,children:[Object(m.jsxs)("div",{className:me.a.price,children:[Object(m.jsx)("span",{children:"Price: "}),Object(m.jsxs)("strong",{children:["A$ ",t.price.toFixed(2)]})]}),Object(m.jsxs)("div",{className:me.a.total,children:[Object(m.jsx)("span",{children:"Total: "}),Object(m.jsxs)("strong",{children:["A$ ",(t.price*t.quantity).toFixed(2)]})]}),Object(m.jsx)(te,{onAdd:n,onRemove:a,initialValue:t.quantity})]})]})},Oe=function(e){var t=oe(be);return Object(m.jsxs)("div",{className:je.a.cartList,children:[0===e.products.length&&Object(m.jsx)("div",{className:"centered-horizontally",children:Object(m.jsx)("p",{children:"No products added! Please add products to cart from Products page."})}),e.products.map((function(e){return Object(m.jsx)(t,{product:e},e.id)}))]})},xe=function(){var e=Object(i.f)();!!Object(a.useContext)(p).token||e.replace("/login");var t=Object(a.useContext)(ie).items;return Object(m.jsx)(Oe,{products:t})},he=n(40),fe=n.n(he),_e=n(17),ve=n.n(_e),ge=function(e){return e[0].toUpperCase()+e.substring(1)},Ne=function(e){var t=e.userName,n=e.password,a=e.firstName,r=e.lastName,c=ge(a),s=ge(r),i="".concat(c," ").concat(s);return Object(m.jsxs)("div",{className:"".concat(ve.a.userItem," centered-horizontally"),children:[Object(m.jsxs)("div",{className:ve.a.formWrapper,children:[Object(m.jsx)("div",{className:ve.a.displayName,children:Object(m.jsx)("span",{children:i})}),Object(m.jsxs)("div",{className:ve.a.userName,children:[Object(m.jsx)("span",{children:"Username: "}),t]}),Object(m.jsxs)("div",{className:ve.a.password,children:[Object(m.jsx)("span",{children:"Password: "}),n]})]}),Object(m.jsx)("div",{children:Object(m.jsx)(j.b,{className:"bg-transparent btn btn-flat btn-medium primary",to:{pathname:"/login",search:"username=".concat(t,"&password=").concat(n)},children:"Login as ".concat(c)})})]})},ye=function(e){return Object(m.jsx)("div",{className:"".concat(fe.a.userList," centered-vertically"),children:e.users.map((function(e){return Object(m.jsx)(Ne,{userName:e.username,password:e.password,firstName:e.name.firstname,lastName:e.name.lastname},e.id)}))})},ke=function(){var e=A(R),t=e.sendRequest,n=e.data,r=e.error,c=e.status;return Object(a.useEffect)((function(){t()}),[]),"pending"===c?Object(m.jsx)("div",{className:"centered-vertically",children:Object(m.jsx)(g,{})}):r?Object(m.jsx)("p",{className:"focused centered-vertically",children:r}):"completed"!==c||n&&0!==n.length?Object(m.jsx)(ye,{users:n}):Object(m.jsx)(B,{})},Ce=function(e){var t=Object(a.useState)(""),n=Object(x.a)(t,2),r=n[0],c=n[1],s={token:r,setToken:function(e){return c(e)}};return Object(m.jsx)(p.Provider,{value:s,children:e.children})},Ie=n(24),Ae={items:[],totalAmount:0},we=function(e,t){if("ADD"===t.type){var n,a=e.items.findIndex((function(e){return e.id===t.item.id})),r=e.items[a];if(r){var c=Object(N.a)(Object(N.a)({},r),{},{quantity:r.quantity+t.item.quantity});(n=Object(Ie.a)(e.items))[a]=c}else n=e.items.concat(t.item);return{items:n,totalAmount:(parseInt(e.totalAmount)+parseInt(t.item.price)*parseInt(t.item.quantity)).toFixed(2)}}if("REMOVE"===t.type){var s,i=e.items.findIndex((function(e){return e.id===t.id})),o=e.items[i];if(!o)return{items:Object(Ie.a)(e.items),totalAmount:e.totalAmount.toFixed(2)};if(1===o.quantity)s=e.items.filter((function(e){return e.id!==t.id}));else{var u=Object(N.a)(Object(N.a)({},o),{},{quantity:o.quantity-1});(s=Object(Ie.a)(e.items))[i]=u}return{items:s,totalAmount:(parseInt(e.totalAmount)-parseInt(o.price)).toFixed(2)}}return Ae},He=function(e){var t=Object(a.useReducer)(we,Ae),n=Object(x.a)(t,2),r=n[0],c=n[1],s={items:r.items,totalAmount:parseInt(r.totalAmount),addItem:function(e){c({type:"ADD",item:e})},removeItem:function(e){c({type:"REMOVE",id:e})}};return Object(m.jsx)(ie.Provider,{value:s,children:e.children})};var Le=function(){return Object(m.jsx)(Ce,{children:Object(m.jsx)(He,{children:Object(m.jsx)("div",{children:Object(m.jsx)(O,{children:Object(m.jsxs)(i.c,{children:[Object(m.jsx)(i.a,{path:"/",exact:!0,children:Object(m.jsx)(F,{})}),Object(m.jsx)(i.a,{path:"/login",children:Object(m.jsx)(P,{})}),Object(m.jsx)(i.a,{path:"/products",children:Object(m.jsx)(de,{})}),Object(m.jsx)(i.a,{path:"/cart",children:Object(m.jsx)(xe,{})}),Object(m.jsx)(i.a,{path:"/users",children:Object(m.jsx)(ke,{})})]})})})})})},Re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(j.a,{children:Object(m.jsx)(Le,{})})}),document.getElementById("root")),Re()}],[[55,1,2]]]);
//# sourceMappingURL=main.269fdf6d.chunk.js.map